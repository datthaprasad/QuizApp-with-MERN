{"ast":null,"code":"var _jsxFileName = \"D:\\\\SuperProf\\\\frontend\\\\src\\\\Project\\\\Login.js\",\n    _s = $RefreshSig$();\n\nimport React, { useContext } from 'react';\nimport './Login.css';\nimport { AuthContext } from '../context/AuthContext';\nimport { useHttpClient } from '../context/Http-Hook';\nimport { Link, useHistory } from 'react-router-dom';\nimport LoadingSpinner from '../context/LoadingSpinner';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nconst Login = () => {\n  _s();\n\n  const auth = useContext(AuthContext);\n  const history = useHistory();\n  const {\n    isLoading,\n    error,\n    sendRequest,\n    clearError\n  } = useHttpClient();\n\n  const loginHandler = async event => {\n    event.preventDefault();\n    auth.CE.concat(['bpi']);\n    console.log(\"auth array is \" + auth.CE);\n    let data;\n\n    try {\n      data = await sendRequest(`http://localhost:5000/login`, 'POST', {\n        'Content-Type': 'application/json'\n      }, JSON.stringify({\n        email: document.getElementById(\"email\").value,\n        password: document.getElementById(\"password\").value\n      }));\n\n      if (data === \"login successfull\") {\n        auth.LOGIN(document.getElementById(\"email\").value, false);\n        history.push('/');\n      } else {\n        alert(data);\n      }\n    } catch (err) {\n      console.log(err);\n    }\n  };\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [isLoading && /*#__PURE__*/_jsxDEV(LoadingSpinner, {\n      asOverlay: true\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 25\n    }, this), !isLoading && /*#__PURE__*/_jsxDEV(\"div\", {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: \"Login Form\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 46,\n        columnNumber: 29\n      }, this), /*#__PURE__*/_jsxDEV(\"form\", {\n        action: \"\",\n        method: \"post\",\n        onSubmit: loginHandler,\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          class: \"container\",\n          children: [/*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"uname\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Username\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 50,\n              columnNumber: 24\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 50,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"text\",\n            placeholder: \"Enter Email\",\n            name: \"uname\",\n            id: \"email\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 51,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"label\", {\n            for: \"psw\",\n            children: /*#__PURE__*/_jsxDEV(\"b\", {\n              children: \"Password\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 53,\n              columnNumber: 22\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 53,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n            type: \"password\",\n            placeholder: \"Enter Password\",\n            id: \"password\",\n            name: \"psw\",\n            required: true\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 54,\n            columnNumber: 5\n          }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n            type: \"submit\",\n            children: \"Login\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 56,\n            columnNumber: 5\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 49,\n          columnNumber: 3\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 48,\n        columnNumber: 1\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 24\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 44,\n    columnNumber: 9\n  }, this);\n};\n\n_s(Login, \"Ru3DUCxUKjpUjVbzh8PWgHUSBtw=\", false, function () {\n  return [useHistory, useHttpClient];\n});\n\n_c = Login;\nexport default Login;\n\nvar _c;\n\n$RefreshReg$(_c, \"Login\");","map":{"version":3,"sources":["D:/SuperProf/frontend/src/Project/Login.js"],"names":["React","useContext","AuthContext","useHttpClient","Link","useHistory","LoadingSpinner","Login","auth","history","isLoading","error","sendRequest","clearError","loginHandler","event","preventDefault","CE","concat","console","log","data","JSON","stringify","email","document","getElementById","value","password","LOGIN","push","alert","err"],"mappings":"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","sourcesContent":["import React,{useContext} from 'react'\r\nimport './Login.css'\r\nimport { AuthContext } from '../context/AuthContext';\r\nimport {useHttpClient} from '../context/Http-Hook'\r\nimport { Link, useHistory } from 'react-router-dom';\r\nimport LoadingSpinner from '../context/LoadingSpinner'\r\n\r\nconst Login=()=>{\r\n  const auth=useContext(AuthContext);\r\n  const history = useHistory();\r\n  const {isLoading,error,sendRequest,clearError}=useHttpClient();\r\n\r\n  const loginHandler=async (event)=>{\r\n      event.preventDefault();\r\n      auth.CE.concat(['bpi'])\r\n      console.log(\"auth array is \"+auth.CE);\r\n      let data;\r\n      try{\r\n      data= await sendRequest(\r\n          `http://localhost:5000/login`,\r\n          'POST',\r\n          {'Content-Type':'application/json'},\r\n          JSON.stringify({\r\n                  email:document.getElementById(\"email\").value,\r\n                  password:document.getElementById(\"password\").value,\r\n          }));\r\n\r\n          if(data===\"login successfull\"){\r\n              auth.LOGIN(document.getElementById(\"email\").value,false)\r\n              history.push('/');\r\n          }\r\n          else{\r\n            alert(data)\r\n          }\r\n          \r\n      }\r\n      catch(err){\r\n          console.log(err);\r\n      }\r\n  }\r\n\r\n\r\n    return(\r\n        <div>\r\n          {isLoading && <LoadingSpinner asOverlay/>}\r\n        {!isLoading && <div><h2>Login Form</h2>\r\n\r\n<form action=\"\" method=\"post\" onSubmit={loginHandler}>\r\n  <div class=\"container\">\r\n    <label for=\"uname\"><b>Username</b></label>\r\n    <input type=\"text\" placeholder=\"Enter Email\" name=\"uname\" id=\"email\" required/>\r\n\r\n    <label for=\"psw\"><b>Password</b></label>\r\n    <input type=\"password\" placeholder=\"Enter Password\" id=\"password\" name=\"psw\" required/>\r\n        \r\n    <button type=\"submit\" >Login</button>\r\n  </div>\r\n</form></div>}\r\n</div>\r\n    );\r\n}\r\n\r\nexport default Login;"]},"metadata":{},"sourceType":"module"}